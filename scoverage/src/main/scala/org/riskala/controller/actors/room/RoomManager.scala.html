<html>
      <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title id="title">
          src\main\scala\org\riskala\controller\actors\room\RoomManager.scala.html
        </title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.20.1/css/theme.default.min.css" type="text/css"/><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.20.1/js/jquery.tablesorter.min.js"></script><link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" type="text/css"/><script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script><script type="text/javascript">
        $(document).ready(function() {$(".tablesorter").tablesorter();});
      </script>
        <style>
          table.codegrid { font-family: monospace; font-size: 12px; width: auto!important; }table.statementlist { width: auto!important; font-size: 13px; } table.codegrid td { padding: 0!important; border: 0!important } table td.linenumber { width: 40px!important; } 
        </style>
      </head>
      <body style="font-family: monospace;">
        <ul class="nav nav-tabs">
          <li>
            <a href="#codegrid" data-toggle="tab">Codegrid</a>
          </li>
          <li>
            <a href="#statementlist" data-toggle="tab">Statement List</a>
          </li>
        </ul>
        <div class="tab-content">
          <div class="tab-pane active" id="codegrid">
            <pre style='font-size: 12pt; font-family: courier, monospace;'>1 <span style=''>package org.riskala.controller.actors.room
</span>2 <span style=''>
</span>3 <span style=''>import akka.actor.typed.scaladsl.Behaviors
</span>4 <span style=''>import akka.actor.typed.{ActorRef, Behavior}
</span>5 <span style=''>import RoomMessages._
</span>6 <span style=''>import org.riskala.controller.actors.player.PlayerMessages._
</span>7 <span style=''>import org.riskala.controller.actors.Messages._
</span>8 <span style=''>import org.riskala.controller.actors.lobby.LobbyMessages.{EmptyRoom, StartGame, Subscribe, UpdateRoomInfo}
</span>9 <span style=''>import org.riskala.model.Player
</span>10 <span style=''>import org.riskala.client.messages.ToClientMessages.{RoomBasicInfo, RoomInfo}
</span>11 <span style=''>import monocle.Lens
</span>12 <span style=''>import monocle.macros.GenLens
</span>13 <span style=''>
</span>14 <span style=''>object RoomManager {
</span>15 <span style=''>
</span>16 <span style=''>  /**
</span>17 <span style=''>   * Creates a new room behavior
</span>18 <span style=''>   * @param roomInfo    Information for this room
</span>19 <span style=''>   * @param lobby       Actor ref of the lobby
</span>20 <span style=''>   * @return A new Behavior[RoomMessage]
</span>21 <span style=''>   * */
</span>22 <span style=''>  def apply(roomInfo: RoomInfo, lobby: ActorRef[LobbyMessage]): Behavior[RoomMessage] =
</span>23 <span style=''>    </span><span style='background: #AEF1AE'>roomManager(Set.empty, Map.empty, roomInfo, lobby)</span><span style=''>
</span>24 <span style=''>
</span>25 <span style=''>  private def roomManager(subscribersRoom: Set[ActorRef[PlayerMessage]],
</span>26 <span style=''>                  readyPlayerMap: Map[Player,ActorRef[PlayerMessage]],
</span>27 <span style=''>                  roomInfo: RoomInfo,
</span>28 <span style=''>                  lobby: ActorRef[LobbyMessage]
</span>29 <span style=''>                 ):Behavior[RoomMessage] = {
</span>30 <span style=''>    </span><span style='background: #AEF1AE'>Behaviors.receive { (context, message) =&gt;
</span>31 <span style=''></span><span style='background: #AEF1AE'>
</span>32 <span style=''></span><span style='background: #AEF1AE'>      val lensBasicInfo: Lens[RoomInfo,RoomBasicInfo] = GenLens[RoomInfo](_.basicInfo)
</span>33 <span style=''></span><span style='background: #AEF1AE'>      val lensActualPlayers: Lens[RoomInfo,Set[Player]] = GenLens[RoomInfo](_.players)
</span>34 <span style=''></span><span style='background: #AEF1AE'>      val lensActualNumber: Lens[RoomBasicInfo, Int] = GenLens[RoomBasicInfo](_.actualNumberOfPlayer)
</span>35 <span style=''></span><span style='background: #AEF1AE'>
</span>36 <span style=''></span><span style='background: #AEF1AE'>      def decreaseActualPlayer(ri:RoomInfo,re:Set[Player]):RoomInfo =
</span>37 <span style=''></span><span style='background: #AEF1AE'>        readyUpdater((lensBasicInfo composeLens lensActualNumber).modify(_ - 1)(ri),re)
</span>38 <span style=''></span><span style='background: #AEF1AE'>      def increaseActualPlayer(ri:RoomInfo,re:Set[Player]):RoomInfo =
</span>39 <span style=''></span><span style='background: #AEF1AE'>        readyUpdater((lensBasicInfo composeLens lensActualNumber).modify(_ + 1)(ri),re)
</span>40 <span style=''></span><span style='background: #AEF1AE'>      def readyUpdater(ri:RoomInfo,re:Set[Player]):RoomInfo = lensActualPlayers.modify(_ =&gt; re)(ri)
</span>41 <span style=''></span><span style='background: #AEF1AE'>
</span>42 <span style=''></span><span style='background: #AEF1AE'>      def notifyUpdateRoomInfo(newSubscribers: Set[ActorRef[PlayerMessage]],
</span>43 <span style=''></span><span style='background: #AEF1AE'>                               newReady: Map[Player,ActorRef[PlayerMessage]],
</span>44 <span style=''></span><span style='background: #AEF1AE'>                               newRoomInfo: RoomInfo): Unit = {
</span>45 <span style=''></span><span style='background: #AEF1AE'>        newReady.values.foreach(_ ! RoomInfoMessage(newRoomInfo))
</span>46 <span style=''></span><span style='background: #AEF1AE'>        newSubscribers.foreach(_ ! RoomInfoMessage(newRoomInfo))
</span>47 <span style=''></span><span style='background: #AEF1AE'>        lobby ! UpdateRoomInfo(newRoomInfo.basicInfo)
</span>48 <span style=''></span><span style='background: #AEF1AE'>      }
</span>49 <span style=''></span><span style='background: #AEF1AE'>
</span>50 <span style=''></span><span style='background: #AEF1AE'>      def updateBehavior(updatedSub: Set[ActorRef[PlayerMessage]] = subscribersRoom,
</span>51 <span style=''></span><span style='background: #AEF1AE'>                         updatedReady: Map[Player,ActorRef[PlayerMessage]] = readyPlayerMap,
</span>52 <span style=''></span><span style='background: #AEF1AE'>                         updatedRoomInfo: RoomInfo = roomInfo,
</span>53 <span style=''></span><span style='background: #AEF1AE'>                         updatedLobby: ActorRef[LobbyMessage] = lobby
</span>54 <span style=''></span><span style='background: #AEF1AE'>                        ):Behavior[RoomMessage] = {
</span>55 <span style=''></span><span style='background: #AEF1AE'>        context.log.info(&quot;Room updated subscribers: -&gt; &quot;+ updatedSub.toList)
</span>56 <span style=''></span><span style='background: #AEF1AE'>        context.log.info(&quot;Room updated ready player: -&gt; &quot;+ updatedReady.toList)
</span>57 <span style=''></span><span style='background: #AEF1AE'>        context.log.info(&quot;Room updated room info: -&gt; &quot;+ updatedRoomInfo)
</span>58 <span style=''></span><span style='background: #AEF1AE'>        context.log.info( &quot;------- --------&quot;)
</span>59 <span style=''></span><span style='background: #AEF1AE'>        roomManager(updatedSub, updatedReady, updatedRoomInfo, updatedLobby)
</span>60 <span style=''></span><span style='background: #AEF1AE'>      }
</span>61 <span style=''></span><span style='background: #AEF1AE'>
</span>62 <span style=''></span><span style='background: #AEF1AE'>      message match {
</span>63 <span style=''></span><span style='background: #AEF1AE'>        case Join(actor) =&gt;
</span>64 <span style=''></span><span style='background: #AEF1AE'>          actor ! RoomReferent(context.self)
</span>65 <span style=''></span><span style='background: #AEF1AE'>          context.log.info(&quot;Room received JOIN message&quot;)
</span>66 <span style=''></span><span style='background: #AEF1AE'>          val newSubscriber = subscribersRoom + actor
</span>67 <span style=''></span><span style='background: #AEF1AE'>          context.log.info(&quot;Number of subscribers after subscriprion into the room &quot;+newSubscriber.size)
</span>68 <span style=''></span><span style='background: #AEF1AE'>          actor ! RoomInfoMessage(roomInfo)
</span>69 <span style=''></span><span style='background: #AEF1AE'>          updateBehavior(updatedSub = newSubscriber)
</span>70 <span style=''></span><span style='background: #AEF1AE'>
</span>71 <span style=''></span><span style='background: #AEF1AE'>        case Leave(actor) =&gt;
</span>72 <span style=''></span><span style='background: #AEF1AE'>          context.log.info(&quot;Room received LEAVE message&quot;)
</span>73 <span style=''></span><span style='background: #AEF1AE'>          var newReady = readyPlayerMap
</span>74 <span style=''></span><span style='background: #AEF1AE'>          var newSubscribers = subscribersRoom
</span>75 <span style=''></span><span style='background: #AEF1AE'>          var newRoomInfo = roomInfo
</span>76 <span style=''></span><span style='background: #AEF1AE'>          if(readyPlayerMap.values.exists(</span><span style='background: #F0ADAD'>_ == actor</span><span style='background: #AEF1AE'>))</span><span style='background: #F0ADAD'>{
</span>77 <span style=''></span><span style='background: #F0ADAD'>            newReady = readyPlayerMap.filter(kv =&gt; kv._2 != actor)
</span>78 <span style=''></span><span style='background: #F0ADAD'>            newRoomInfo = decreaseActualPlayer(roomInfo,newReady.keySet)
</span>79 <span style=''></span><span style='background: #F0ADAD'>            notifyUpdateRoomInfo(subscribersRoom, newReady, newRoomInfo)
</span>80 <span style=''></span><span style='background: #F0ADAD'>          }</span><span style='background: #AEF1AE'> else {
</span>81 <span style=''></span><span style='background: #AEF1AE'>            newSubscribers = subscribersRoom - actor
</span>82 <span style=''></span><span style='background: #AEF1AE'>          }
</span>83 <span style=''></span><span style='background: #AEF1AE'>          lobby ! Subscribe(actor)
</span>84 <span style=''></span><span style='background: #AEF1AE'>          if(newSubscribers.isEmpty &amp;&amp; newReady.isEmpty){
</span>85 <span style=''></span><span style='background: #AEF1AE'>            lobby ! EmptyRoom(roomInfo.basicInfo.name)
</span>86 <span style=''></span><span style='background: #AEF1AE'>            context.log.info(&quot;Everybody left the room - Behavior stopped&quot;)
</span>87 <span style=''></span><span style='background: #AEF1AE'>            Behaviors.stopped
</span>88 <span style=''></span><span style='background: #AEF1AE'>          } else {
</span>89 <span style=''></span><span style='background: #AEF1AE'>            updateBehavior(updatedSub = newSubscribers, updatedReady = newReady, updatedRoomInfo = newRoomInfo)
</span>90 <span style=''></span><span style='background: #AEF1AE'>          }
</span>91 <span style=''></span><span style='background: #AEF1AE'>
</span>92 <span style=''></span><span style='background: #AEF1AE'>        case UnReady(playerName, actor) =&gt;
</span>93 <span style=''></span><span style='background: #AEF1AE'>          context.log.info(&quot;Room received UNREADY message&quot;)
</span>94 <span style=''></span><span style='background: #AEF1AE'>          val newReady = readyPlayerMap - Player(playerName,&quot;&quot;)
</span>95 <span style=''></span><span style='background: #AEF1AE'>          val newRoomInfo = decreaseActualPlayer(roomInfo,newReady.keySet)
</span>96 <span style=''></span><span style='background: #AEF1AE'>          val newSubscriber = subscribersRoom + actor
</span>97 <span style=''></span><span style='background: #AEF1AE'>          notifyUpdateRoomInfo(newSubscriber, newReady, newRoomInfo)
</span>98 <span style=''></span><span style='background: #AEF1AE'>          updateBehavior(updatedSub = newSubscriber, updatedReady = newReady, updatedRoomInfo = newRoomInfo)
</span>99 <span style=''></span><span style='background: #AEF1AE'>
</span>100 <span style=''></span><span style='background: #AEF1AE'>        case Ready(player, actor) =&gt;
</span>101 <span style=''></span><span style='background: #AEF1AE'>          context.log.info(&quot;Room received READY message&quot;)
</span>102 <span style=''></span><span style='background: #AEF1AE'>          val newSubscriber = subscribersRoom - actor
</span>103 <span style=''></span><span style='background: #AEF1AE'>          val newReady = readyPlayerMap + (player -&gt; actor)
</span>104 <span style=''></span><span style='background: #AEF1AE'>          val newRoomInfo = increaseActualPlayer(roomInfo,newReady.keySet)
</span>105 <span style=''></span><span style='background: #AEF1AE'>          context.log.info(&quot;Updated newRoomInfo - &quot;+ newRoomInfo)
</span>106 <span style=''></span><span style='background: #AEF1AE'>          if (newReady.size == newRoomInfo.basicInfo.maxNumberOfPlayer) {
</span>107 <span style=''></span><span style='background: #AEF1AE'>            lobby ! StartGame(newRoomInfo, newReady, newSubscriber)
</span>108 <span style=''></span><span style='background: #AEF1AE'>            context.log.info(&quot;Everybody into the room are ready. Start game and Room behavior stopped&quot;)
</span>109 <span style=''></span><span style='background: #AEF1AE'>            Behaviors.stopped
</span>110 <span style=''></span><span style='background: #AEF1AE'>          } else {
</span>111 <span style=''></span><span style='background: #AEF1AE'>            notifyUpdateRoomInfo(newSubscriber, newReady, newRoomInfo)
</span>112 <span style=''></span><span style='background: #AEF1AE'>            updateBehavior(updatedSub = newSubscriber, updatedReady = newReady, updatedRoomInfo = newRoomInfo)
</span>113 <span style=''></span><span style='background: #AEF1AE'>          }
</span>114 <span style=''></span><span style='background: #AEF1AE'>
</span>115 <span style=''></span><span style='background: #AEF1AE'>        case Logout(actor) =&gt;
</span>116 <span style=''></span><span style='background: #AEF1AE'>          context.log.info(&quot;Room received LOGOUT message&quot;)
</span>117 <span style=''></span><span style='background: #AEF1AE'>          var newReady = readyPlayerMap
</span>118 <span style=''></span><span style='background: #AEF1AE'>          var newSubscribers = subscribersRoom
</span>119 <span style=''></span><span style='background: #AEF1AE'>          var newRoomInfo = roomInfo
</span>120 <span style=''></span><span style='background: #AEF1AE'>          if(readyPlayerMap.values.exists(_ == actor)){
</span>121 <span style=''></span><span style='background: #AEF1AE'>            newReady = readyPlayerMap.filter(kv =&gt; kv._2 != actor)
</span>122 <span style=''></span><span style='background: #AEF1AE'>            newRoomInfo = decreaseActualPlayer(roomInfo,newReady.keySet)
</span>123 <span style=''></span><span style='background: #AEF1AE'>            notifyUpdateRoomInfo(newSubscribers, newReady, newRoomInfo)
</span>124 <span style=''></span><span style='background: #AEF1AE'>          } else {
</span>125 <span style=''></span><span style='background: #AEF1AE'>            newSubscribers = subscribersRoom - actor
</span>126 <span style=''></span><span style='background: #AEF1AE'>          }
</span>127 <span style=''></span><span style='background: #AEF1AE'>          if(newSubscribers.isEmpty &amp;&amp; newReady.isEmpty){
</span>128 <span style=''></span><span style='background: #AEF1AE'>            lobby ! EmptyRoom(roomInfo.basicInfo.name)
</span>129 <span style=''></span><span style='background: #AEF1AE'>            context.log.info(&quot;Everybody into the room logout. Room is empty and behavior stopped&quot;)
</span>130 <span style=''></span><span style='background: #AEF1AE'>            Behaviors.stopped
</span>131 <span style=''></span><span style='background: #AEF1AE'>          } else {
</span>132 <span style=''></span><span style='background: #AEF1AE'>            updateBehavior(updatedSub = newSubscribers, updatedReady = newReady, updatedRoomInfo = newRoomInfo)
</span>133 <span style=''></span><span style='background: #AEF1AE'>          }
</span>134 <span style=''></span><span style='background: #AEF1AE'>      }
</span>135 <span style=''></span><span style='background: #AEF1AE'>    }</span><span style=''>
</span>136 <span style=''>  }
</span>137 <span style=''>}
</span></pre>
          </div>
          <div class="tab-pane" id="statementlist">
            <table cellspacing="0" cellpadding="0" class="table statementlist">
      <tr>
        <th>Line</th>
        <th>Stmt Id</th>
        <th>Pos</th>
        <th>Tree</th>
        <th>Symbol</th>
        <th>Code</th>
      </tr><tr>
        <td>
          23
        </td>
        <td>
          497
        </td>
        <td>
          864
          -
          873
        </td>
        <td>
          TypeApply
        </td>
        <td>
          scala.collection.generic.ImmutableSetFactory.empty
        </td>
        <td style="background: #AEF1AE">
          scala.Predef.Set.empty[akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]]
        </td>
      </tr><tr>
        <td>
          23
        </td>
        <td>
          1412
        </td>
        <td>
          852
          -
          902
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.room.RoomManager.roomManager
        </td>
        <td style="background: #AEF1AE">
          RoomManager.this.roomManager(scala.Predef.Set.empty[akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]], scala.Predef.Map.empty[org.riskala.model.Player, Nothing], roomInfo, lobby)
        </td>
      </tr><tr>
        <td>
          23
        </td>
        <td>
          27
        </td>
        <td>
          875
          -
          884
        </td>
        <td>
          TypeApply
        </td>
        <td>
          scala.collection.immutable.Map.empty
        </td>
        <td style="background: #AEF1AE">
          scala.Predef.Map.empty[org.riskala.model.Player, Nothing]
        </td>
      </tr><tr>
        <td>
          30
        </td>
        <td>
          164
        </td>
        <td>
          1190
          -
          6818
        </td>
        <td>
          Apply
        </td>
        <td>
          akka.actor.typed.scaladsl.Behaviors.receive
        </td>
        <td style="background: #AEF1AE">
          akka.actor.typed.scaladsl.Behaviors.receive[org.riskala.controller.actors.Messages.RoomMessage](((context: akka.actor.typed.scaladsl.ActorContext[org.riskala.controller.actors.Messages.RoomMessage], message: org.riskala.controller.actors.Messages.RoomMessage) =&gt; {
  val lensBasicInfo: monocle.Lens[org.riskala.client.messages.ToClientMessages.RoomInfo,org.riskala.client.messages.ToClientMessages.RoomBasicInfo] = ({
    import scala.language.higherKinds;
    {
      final class $anon extends monocle.PLens[org.riskala.client.messages.ToClientMessages.RoomInfo,org.riskala.client.messages.ToClientMessages.RoomInfo,org.riskala.client.messages.ToClientMessages.RoomBasicInfo,org.riskala.client.messages.ToClientMessages.RoomBasicInfo] {
        def &lt;init&gt;(): &lt;$anon: monocle.PLens[org.riskala.client.messages.ToClientMessages.RoomInfo,org.riskala.client.messages.ToClientMessages.RoomInfo,org.riskala.client.messages.ToClientMessages.RoomBasicInfo,org.riskala.client.messages.ToClientMessages.RoomBasicInfo]&gt; = {
          $anon.super.&lt;init&gt;();
          ()
        };
        override def get(s: org.riskala.client.messages.ToClientMessages.RoomInfo): org.riskala.client.messages.ToClientMessages.RoomBasicInfo = s.basicInfo;
        override def set(a: org.riskala.client.messages.ToClientMessages.RoomBasicInfo): org.riskala.client.messages.ToClientMessages.RoomInfo =&gt; org.riskala.client.messages.ToClientMessages.RoomInfo = ((x$1: org.riskala.client.messages.ToClientMessages.RoomInfo) =&gt; x$1.copy(a, x$1.copy$default$2, x$1.copy$default$3));
        override def modifyF[F$macro$1[_] &gt;: [_]Nothing &lt;: [_]Any](f: org.riskala.client.messages.ToClientMessages.RoomBasicInfo =&gt; F$macro$1[org.riskala.client.messages.ToClientMessages.RoomBasicInfo])(s: org.riskala.client.messages.ToClientMessages.RoomInfo)(implicit evidence$1: cats.Functor[F$macro$1]): F$macro$1[org.riskala.client.messages.ToClientMessages.RoomInfo] = cats.Functor.apply[F$macro$1](evidence$1).map[org.riskala.client.messages.ToClientMessages.RoomBasicInfo, org.riskala.client.messages.ToClientMessages.RoomInfo](f.apply(s.basicInfo))(((a: org.riskala.client.messages.ToClientMessages.RoomBasicInfo) =&gt; s.copy(a, s.copy$default$2, s.copy$default$3)));
        override def modify(f: org.riskala.client.messages.ToClientMessages.RoomBasicInfo =&gt; org.riskala.client.messages.ToClientMessages.RoomBasicInfo): org.riskala.client.messages.ToClientMessages.RoomInfo =&gt; org.riskala.client.messages.ToClientMessages.RoomInfo = ((s: org.riskala.client.messages.ToClientMessages.RoomInfo) =&gt; s.copy(f.apply(s.basicInfo), s.copy$default$2, s.copy$default$3))
      };
      new $anon()
    }
  }: monocle.Lens[org.riskala.client.messages.ToClientMessages.RoomInfo,org.riskala.client.messages.ToClientMessages.RoomBasicInfo]);
  val lensActualPlayers: monocle.Lens[org.riskala.client.messages.ToClientMessages.RoomInfo,Set[org.riskala.model.Player]] = ({
    import scala.language.higherKinds;
    {
      final class $anon extends monocle.PLens[org.riskala.client.messages.ToClientMessages.RoomInfo,org.riskala.client.messages.ToClientMessages.RoomInfo,Set[org.riskala.model.Player],Set[org.riskala.model.Player]] {
        def &lt;init&gt;(): &lt;$anon: monocle.PLens[org.riskala.client.messages.ToClientMessages.RoomInfo,org.riskala.client.messages.ToClientMessages.RoomInfo,Set[org.riskala.model.Player],Set[org.riskala.model.Player]]&gt; = {
          $anon.super.&lt;init&gt;();
          ()
        };
        override def get(s: org.riskala.client.messages.ToClientMessages.RoomInfo): Set[org.riskala.model.Player] = s.players;
        override def set(a: Set[org.riskala.model.Player]): org.riskala.client.messages.ToClientMessages.RoomInfo =&gt; org.riskala.client.messages.ToClientMessages.RoomInfo = ((x$2: org.riskala.client.messages.ToClientMessages.RoomInfo) =&gt; {
          &lt;artifact&gt; val x$3: Set[org.riskala.model.Player] @scala.reflect.internal.annotations.uncheckedBounds = a;
          &lt;artifact&gt; val x$4: org.riskala.client.messages.ToClientMessages.RoomBasicInfo = x$2.copy$default$1;
          &lt;artifact&gt; val x$5: String = x$2.copy$default$3;
          x$2.copy(x$4, x$3, x$5)
        });
        override def modifyF[F$macro$2[_] &gt;: [_]Nothing &lt;: [_]Any](f: Set[org.riskala.model.Player] =&gt; F$macro$2[Set[org.riskala.model.Player]])(s: org.riskala.client.messages.ToClientMessages.RoomInfo)(implicit evidence$2: cats.Functor[F$macro$2]): F$macro$2[org.riskala.client.messages.ToClientMessages.RoomInfo] = cats.Functor.apply[F$macro$2](evidence$2).map[Set[org.riskala.model.Player], org.riskala.client.messages.ToClientMessages.RoomInfo](f.apply(s.players))(((a: Set[org.riskala.model.Player]) =&gt; {
          &lt;artifact&gt; val x$6: Set[org.riskala.model.Player] @scala.reflect.internal.annotations.uncheckedBounds = a;
          &lt;artifact&gt; val x$7: org.riskala.client.messages.ToClientMessages.RoomBasicInfo = s.copy$default$1;
          &lt;artifact&gt; val x$8: String = s.copy$default$3;
          s.copy(x$7, x$6, x$8)
        }));
        override def modify(f: Set[org.riskala.model.Player] =&gt; Set[org.riskala.model.Player]): org.riskala.client.messages.ToClientMessages.RoomInfo =&gt; org.riskala.client.messages.ToClientMessages.RoomInfo = ((s: org.riskala.client.messages.ToClientMessages.RoomInfo) =&gt; {
          &lt;artifact&gt; val x$9: Set[org.riskala.model.Player] @scala.reflect.internal.annotations.uncheckedBounds = f.apply(s.players);
          &lt;artifact&gt; val x$10: org.riskala.client.messages.ToClientMessages.RoomBasicInfo = s.copy$default$1;
          &lt;artifact&gt; val x$11: String = s.copy$default$3;
          s.copy(x$10, x$9, x$11)
        })
      };
      new $anon()
    }
  }: monocle.Lens[org.riskala.client.messages.ToClientMessages.RoomInfo,Set[org.riskala.model.Player]]);
  val lensActualNumber: monocle.Lens[org.riskala.client.messages.ToClientMessages.RoomBasicInfo,Int] = ({
    import scala.language.higherKinds;
    {
      final class $anon extends monocle.PLens[org.riskala.client.messages.ToClientMessages.RoomBasicInfo,org.riskala.client.messages.ToClientMessages.RoomBasicInfo,Int,Int] {
        def &lt;init&gt;(): &lt;$anon: monocle.PLens[org.riskala.client.messages.ToClientMessages.RoomBasicInfo,org.riskala.client.messages.ToClientMessages.RoomBasicInfo,Int,Int]&gt; = {
          $anon.super.&lt;init&gt;();
          ()
        };
        override def get(s: org.riskala.client.messages.ToClientMessages.RoomBasicInfo): Int = s.actualNumberOfPlayer;
        override def set(a: Int): org.riskala.client.messages.ToClientMessages.RoomBasicInfo =&gt; org.riskala.client.messages.ToClientMessages.RoomBasicInfo = ((x$12: org.riskala.client.messages.ToClientMessages.RoomBasicInfo) =&gt; {
          &lt;artifact&gt; val x$13: Int = a;
          &lt;artifact&gt; val x$14: String = x$12.copy$default$1;
          &lt;artifact&gt; val x$15: Int = x$12.copy$default$3;
          x$12.copy(x$14, x$13, x$15)
        });
        override def modifyF[F$macro$3[_] &gt;: [_]Nothing &lt;: [_]Any](f: Int =&gt; F$macro$3[Int])(s: org.riskala.client.messages.ToClientMessages.RoomBasicInfo)(implicit evidence$3: cats.Functor[F$macro$3]): F$macro$3[org.riskala.client.messages.ToClientMessages.RoomBasicInfo] = cats.Functor.apply[F$macro$3](evidence$3).map[Int, org.riskala.client.messages.ToClientMessages.RoomBasicInfo](f.apply(s.actualNumberOfPlayer))(((a: Int) =&gt; {
          &lt;artifact&gt; val x$16: Int = a;
          &lt;artifact&gt; val x$17: String = s.copy$default$1;
          &lt;artifact&gt; val x$18: Int = s.copy$default$3;
          s.copy(x$17, x$16, x$18)
        }));
        override def modify(f: Int =&gt; Int): org.riskala.client.messages.ToClientMessages.RoomBasicInfo =&gt; org.riskala.client.messages.ToClientMessages.RoomBasicInfo = ((s: org.riskala.client.messages.ToClientMessages.RoomBasicInfo) =&gt; {
          &lt;artifact&gt; val x$19: Int = f.apply(s.actualNumberOfPlayer);
          &lt;artifact&gt; val x$20: String = s.copy$default$1;
          &lt;artifact&gt; val x$21: Int = s.copy$default$3;
          s.copy(x$20, x$19, x$21)
        })
      };
      new $anon()
    }
  }: monocle.Lens[org.riskala.client.messages.ToClientMessages.RoomBasicInfo,Int]);
  def decreaseActualPlayer(ri: org.riskala.client.messages.ToClientMessages.RoomInfo, re: Set[org.riskala.model.Player]): org.riskala.client.messages.ToClientMessages.RoomInfo = readyUpdater(lensBasicInfo.composeLens[Int, Int](lensActualNumber).modify(((x$4: Int) =&gt; x$4.-(1))).apply(ri), re);
  def increaseActualPlayer(ri: org.riskala.client.messages.ToClientMessages.RoomInfo, re: Set[org.riskala.model.Player]): org.riskala.client.messages.ToClientMessages.RoomInfo = readyUpdater(lensBasicInfo.composeLens[Int, Int](lensActualNumber).modify(((x$5: Int) =&gt; x$5.+(1))).apply(ri), re);
  def readyUpdater(ri: org.riskala.client.messages.ToClientMessages.RoomInfo, re: Set[org.riskala.model.Player]): org.riskala.client.messages.ToClientMessages.RoomInfo = lensActualPlayers.modify(((x$6: Set[org.riskala.model.Player]) =&gt; re)).apply(ri);
  def notifyUpdateRoomInfo(newSubscribers: Set[akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]], newReady: Map[org.riskala.model.Player,akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]], newRoomInfo: org.riskala.client.messages.ToClientMessages.RoomInfo): Unit = {
    newReady.values.foreach[Unit](((x$7: akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]) =&gt; typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage](x$7).!(org.riskala.controller.actors.player.PlayerMessages.RoomInfoMessage.apply(newRoomInfo))));
    newSubscribers.foreach[Unit](((x$8: akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]) =&gt; typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage](x$8).!(org.riskala.controller.actors.player.PlayerMessages.RoomInfoMessage.apply(newRoomInfo))));
    typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.Messages.LobbyMessage](lobby).!(org.riskala.controller.actors.lobby.LobbyMessages.UpdateRoomInfo.apply(newRoomInfo.basicInfo))
  };
  def updateBehavior(updatedSub: Set[akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]] = subscribersRoom, updatedReady: Map[org.riskala.model.Player,akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]] = readyPlayerMap, updatedRoomInfo: org.riskala.client.messages.ToClientMessages.RoomInfo = roomInfo, updatedLobby: akka.actor.typed.ActorRef[org.riskala.controller.actors.Messages.LobbyMessage] = lobby): akka.actor.typed.Behavior[org.riskala.controller.actors.Messages.RoomMessage] = {
    context.log.info(&quot;Room updated subscribers: -&gt; &quot;.+(updatedSub.toList));
    context.log.info(&quot;Room updated ready player: -&gt; &quot;.+(updatedReady.toList));
    context.log.info(&quot;Room updated room info: -&gt; &quot;.+(updatedRoomInfo));
    context.log.info(&quot;------- --------&quot;);
    RoomManager.this.roomManager(updatedSub, updatedReady, updatedRoomInfo, updatedLobby)
  };
  &lt;synthetic&gt; def updateBehavior$default$1: Set[akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]] @scala.annotation.unchecked.uncheckedVariance = subscribersRoom;
  &lt;synthetic&gt; def updateBehavior$default$2: Map[org.riskala.model.Player,akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]] @scala.annotation.unchecked.uncheckedVariance = readyPlayerMap;
  &lt;synthetic&gt; def updateBehavior$default$3: org.riskala.client.messages.ToClientMessages.RoomInfo @scala.annotation.unchecked.uncheckedVariance = roomInfo;
  &lt;synthetic&gt; def updateBehavior$default$4: akka.actor.typed.ActorRef[org.riskala.controller.actors.Messages.LobbyMessage] @scala.annotation.unchecked.uncheckedVariance = lobby;
  message match {
    case (actor: akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage])org.riskala.controller.actors.room.RoomMessages.Join((actor @ _)) =&gt; {
      typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage](actor).!(org.riskala.controller.actors.player.PlayerMessages.RoomReferent.apply(context.self));
      context.log.info(&quot;Room received JOIN message&quot;);
      val newSubscriber: scala.collection.immutable.Set[akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]] = subscribersRoom.+(actor);
      context.log.info(&quot;Number of subscribers after subscriprion into the room &quot;.+(newSubscriber.size));
      typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage](actor).!(org.riskala.controller.actors.player.PlayerMessages.RoomInfoMessage.apply(roomInfo));
      updateBehavior(newSubscriber, updateBehavior$default$2, updateBehavior$default$3, updateBehavior$default$4)
    }
    case (actor: akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage])org.riskala.controller.actors.room.RoomMessages.Leave((actor @ _)) =&gt; {
      context.log.info(&quot;Room received LEAVE message&quot;);
      var newReady: Map[org.riskala.model.Player,akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]] = readyPlayerMap;
      var newSubscribers: Set[akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]] = subscribersRoom;
      var newRoomInfo: org.riskala.client.messages.ToClientMessages.RoomInfo = roomInfo;
      if (readyPlayerMap.values.exists(((x$9: akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]) =&gt; x$9.==(actor))))
        {
          newReady = readyPlayerMap.filter(((kv: (org.riskala.model.Player, akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage])) =&gt; kv._2.!=(actor)));
          newRoomInfo = decreaseActualPlayer(roomInfo, newReady.keySet);
          notifyUpdateRoomInfo(subscribersRoom, newReady, newRoomInfo)
        }
      else
        newSubscribers = subscribersRoom.-(actor);
      typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.Messages.LobbyMessage](lobby).!(org.riskala.controller.actors.lobby.LobbyMessages.Subscribe.apply(actor));
      if (newSubscribers.isEmpty.&amp;&amp;(newReady.isEmpty))
        {
          typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.Messages.LobbyMessage](lobby).!(org.riskala.controller.actors.lobby.LobbyMessages.EmptyRoom.apply(roomInfo.basicInfo.name));
          context.log.info(&quot;Everybody left the room - Behavior stopped&quot;);
          akka.actor.typed.scaladsl.Behaviors.stopped[org.riskala.controller.actors.Messages.RoomMessage]
        }
      else
        updateBehavior(newSubscribers, newReady, newRoomInfo, updateBehavior$default$4)
    }
    case (playerName: String, actor: akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage])org.riskala.controller.actors.room.RoomMessages.UnReady((playerName @ _), (actor @ _)) =&gt; {
      context.log.info(&quot;Room received UNREADY message&quot;);
      val newReady: scala.collection.immutable.Map[org.riskala.model.Player,akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]] = readyPlayerMap.-(org.riskala.model.Player.apply(playerName, &quot;&quot;));
      val newRoomInfo: org.riskala.client.messages.ToClientMessages.RoomInfo = decreaseActualPlayer(roomInfo, newReady.keySet);
      val newSubscriber: scala.collection.immutable.Set[akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]] = subscribersRoom.+(actor);
      notifyUpdateRoomInfo(newSubscriber, newReady, newRoomInfo);
      updateBehavior(newSubscriber, newReady, newRoomInfo, updateBehavior$default$4)
    }
    case (player: org.riskala.model.Player, actor: akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage])org.riskala.controller.actors.room.RoomMessages.Ready((player @ _), (actor @ _)) =&gt; {
      context.log.info(&quot;Room received READY message&quot;);
      val newSubscriber: scala.collection.immutable.Set[akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]] = subscribersRoom.-(actor);
      val newReady: scala.collection.immutable.Map[org.riskala.model.Player,akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]] = readyPlayerMap.+[akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]](scala.Predef.ArrowAssoc[org.riskala.model.Player](player).-&gt;[akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]](actor));
      val newRoomInfo: org.riskala.client.messages.ToClientMessages.RoomInfo = increaseActualPlayer(roomInfo, newReady.keySet);
      context.log.info(&quot;Updated newRoomInfo - &quot;.+(newRoomInfo));
      if (newReady.size.==(newRoomInfo.basicInfo.maxNumberOfPlayer))
        {
          typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.Messages.LobbyMessage](lobby).!(org.riskala.controller.actors.lobby.LobbyMessages.StartGame.apply(newRoomInfo, newReady, newSubscriber));
          context.log.info(&quot;Everybody into the room are ready. Start game and Room behavior stopped&quot;);
          akka.actor.typed.scaladsl.Behaviors.stopped[org.riskala.controller.actors.Messages.RoomMessage]
        }
      else
        {
          notifyUpdateRoomInfo(newSubscriber, newReady, newRoomInfo);
          updateBehavior(newSubscriber, newReady, newRoomInfo, updateBehavior$default$4)
        }
    }
    case (actor: akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage])org.riskala.controller.actors.Messages.Logout((actor @ _)) =&gt; {
      context.log.info(&quot;Room received LOGOUT message&quot;);
      var newReady: Map[org.riskala.model.Player,akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]] = readyPlayerMap;
      var newSubscribers: Set[akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]] = subscribersRoom;
      var newRoomInfo: org.riskala.client.messages.ToClientMessages.RoomInfo = roomInfo;
      if (readyPlayerMap.values.exists(((x$10: akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]) =&gt; x$10.==(actor))))
        {
          newReady = readyPlayerMap.filter(((kv: (org.riskala.model.Player, akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage])) =&gt; kv._2.!=(actor)));
          newRoomInfo = decreaseActualPlayer(roomInfo, newReady.keySet);
          notifyUpdateRoomInfo(newSubscribers, newReady, newRoomInfo)
        }
      else
        newSubscribers = subscribersRoom.-(actor);
      if (newSubscribers.isEmpty.&amp;&amp;(newReady.isEmpty))
        {
          typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.Messages.LobbyMessage](lobby).!(org.riskala.controller.actors.lobby.LobbyMessages.EmptyRoom.apply(roomInfo.basicInfo.name));
          context.log.info(&quot;Everybody into the room logout. Room is empty and behavior stopped&quot;);
          akka.actor.typed.scaladsl.Behaviors.stopped[org.riskala.controller.actors.Messages.RoomMessage]
        }
      else
        updateBehavior(newSubscribers, newReady, newRoomInfo, updateBehavior$default$4)
    }
  }
}))
        </td>
      </tr><tr>
        <td>
          37
        </td>
        <td>
          1913
        </td>
        <td>
          1595
          -
          1674
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.room.RoomManager.readyUpdater
        </td>
        <td style="background: #AEF1AE">
          readyUpdater(lensBasicInfo.composeLens[Int, Int](lensActualNumber).modify(((x$4: Int) =&gt; x$4.-(1))).apply(ri), re)
        </td>
      </tr><tr>
        <td>
          37
        </td>
        <td>
          554
        </td>
        <td>
          1609
          -
          1670
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Function1.apply
        </td>
        <td style="background: #AEF1AE">
          lensBasicInfo.composeLens[Int, Int](lensActualNumber).modify(((x$4: Int) =&gt; x$4.-(1))).apply(ri)
        </td>
      </tr><tr>
        <td>
          39
        </td>
        <td>
          723
        </td>
        <td>
          1755
          -
          1834
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.room.RoomManager.readyUpdater
        </td>
        <td style="background: #AEF1AE">
          readyUpdater(lensBasicInfo.composeLens[Int, Int](lensActualNumber).modify(((x$5: Int) =&gt; x$5.+(1))).apply(ri), re)
        </td>
      </tr><tr>
        <td>
          39
        </td>
        <td>
          1109
        </td>
        <td>
          1769
          -
          1830
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Function1.apply
        </td>
        <td style="background: #AEF1AE">
          lensBasicInfo.composeLens[Int, Int](lensActualNumber).modify(((x$5: Int) =&gt; x$5.+(1))).apply(ri)
        </td>
      </tr><tr>
        <td>
          40
        </td>
        <td>
          2134
        </td>
        <td>
          1898
          -
          1935
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Function1.apply
        </td>
        <td style="background: #AEF1AE">
          lensActualPlayers.modify(((x$6: Set[org.riskala.model.Player]) =&gt; re)).apply(ri)
        </td>
      </tr><tr>
        <td>
          45
        </td>
        <td>
          525
        </td>
        <td>
          2193
          -
          2225
        </td>
        <td>
          Apply
        </td>
        <td>
          akka.actor.typed.ActorRef.ActorRefOps.!
        </td>
        <td style="background: #AEF1AE">
          typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage](x$7).!(org.riskala.controller.actors.player.PlayerMessages.RoomInfoMessage.apply(newRoomInfo))
        </td>
      </tr><tr>
        <td>
          45
        </td>
        <td>
          1232
        </td>
        <td>
          2197
          -
          2225
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.player.PlayerMessages.RoomInfoMessage.apply
        </td>
        <td style="background: #AEF1AE">
          org.riskala.controller.actors.player.PlayerMessages.RoomInfoMessage.apply(newRoomInfo)
        </td>
      </tr><tr>
        <td>
          45
        </td>
        <td>
          6
        </td>
        <td>
          2169
          -
          2226
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.foreach
        </td>
        <td style="background: #AEF1AE">
          newReady.values.foreach[Unit](((x$7: akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]) =&gt; typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage](x$7).!(org.riskala.controller.actors.player.PlayerMessages.RoomInfoMessage.apply(newRoomInfo))))
        </td>
      </tr><tr>
        <td>
          46
        </td>
        <td>
          1419
        </td>
        <td>
          2263
          -
          2291
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.player.PlayerMessages.RoomInfoMessage.apply
        </td>
        <td style="background: #AEF1AE">
          org.riskala.controller.actors.player.PlayerMessages.RoomInfoMessage.apply(newRoomInfo)
        </td>
      </tr><tr>
        <td>
          46
        </td>
        <td>
          653
        </td>
        <td>
          2259
          -
          2291
        </td>
        <td>
          Apply
        </td>
        <td>
          akka.actor.typed.ActorRef.ActorRefOps.!
        </td>
        <td style="background: #AEF1AE">
          typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage](x$8).!(org.riskala.controller.actors.player.PlayerMessages.RoomInfoMessage.apply(newRoomInfo))
        </td>
      </tr><tr>
        <td>
          46
        </td>
        <td>
          1903
        </td>
        <td>
          2236
          -
          2292
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.foreach
        </td>
        <td style="background: #AEF1AE">
          newSubscribers.foreach[Unit](((x$8: akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]) =&gt; typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage](x$8).!(org.riskala.controller.actors.player.PlayerMessages.RoomInfoMessage.apply(newRoomInfo))))
        </td>
      </tr><tr>
        <td>
          47
        </td>
        <td>
          2138
        </td>
        <td>
          2302
          -
          2347
        </td>
        <td>
          Apply
        </td>
        <td>
          akka.actor.typed.ActorRef.ActorRefOps.!
        </td>
        <td style="background: #AEF1AE">
          typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.Messages.LobbyMessage](lobby).!(org.riskala.controller.actors.lobby.LobbyMessages.UpdateRoomInfo.apply(newRoomInfo.basicInfo))
        </td>
      </tr><tr>
        <td>
          47
        </td>
        <td>
          1210
        </td>
        <td>
          2325
          -
          2346
        </td>
        <td>
          Select
        </td>
        <td>
          org.riskala.client.messages.ToClientMessages.RoomInfo.basicInfo
        </td>
        <td style="background: #AEF1AE">
          newRoomInfo.basicInfo
        </td>
      </tr><tr>
        <td>
          47
        </td>
        <td>
          689
        </td>
        <td>
          2310
          -
          2347
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.lobby.LobbyMessages.UpdateRoomInfo.apply
        </td>
        <td style="background: #AEF1AE">
          org.riskala.controller.actors.lobby.LobbyMessages.UpdateRoomInfo.apply(newRoomInfo.basicInfo)
        </td>
      </tr><tr>
        <td>
          55
        </td>
        <td>
          489
        </td>
        <td>
          2786
          -
          2803
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.TraversableOnce.toList
        </td>
        <td style="background: #AEF1AE">
          updatedSub.toList
        </td>
      </tr><tr>
        <td>
          55
        </td>
        <td>
          103
        </td>
        <td>
          2753
          -
          2803
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.+
        </td>
        <td style="background: #AEF1AE">
          &quot;Room updated subscribers: -&gt; &quot;.+(updatedSub.toList)
        </td>
      </tr><tr>
        <td>
          55
        </td>
        <td>
          1236
        </td>
        <td>
          2753
          -
          2784
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #AEF1AE">
          &quot;Room updated subscribers: -&gt; &quot;
        </td>
      </tr><tr>
        <td>
          55
        </td>
        <td>
          1471
        </td>
        <td>
          2736
          -
          2804
        </td>
        <td>
          Apply
        </td>
        <td>
          org.slf4j.Logger.info
        </td>
        <td style="background: #AEF1AE">
          context.log.info(&quot;Room updated subscribers: -&gt; &quot;.+(updatedSub.toList))
        </td>
      </tr><tr>
        <td>
          56
        </td>
        <td>
          791
        </td>
        <td>
          2814
          -
          2885
        </td>
        <td>
          Apply
        </td>
        <td>
          org.slf4j.Logger.info
        </td>
        <td style="background: #AEF1AE">
          context.log.info(&quot;Room updated ready player: -&gt; &quot;.+(updatedReady.toList))
        </td>
      </tr><tr>
        <td>
          56
        </td>
        <td>
          1960
        </td>
        <td>
          2865
          -
          2884
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.TraversableOnce.toList
        </td>
        <td style="background: #AEF1AE">
          updatedReady.toList
        </td>
      </tr><tr>
        <td>
          56
        </td>
        <td>
          1182
        </td>
        <td>
          2831
          -
          2884
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.+
        </td>
        <td style="background: #AEF1AE">
          &quot;Room updated ready player: -&gt; &quot;.+(updatedReady.toList)
        </td>
      </tr><tr>
        <td>
          56
        </td>
        <td>
          658
        </td>
        <td>
          2831
          -
          2863
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #AEF1AE">
          &quot;Room updated ready player: -&gt; &quot;
        </td>
      </tr><tr>
        <td>
          57
        </td>
        <td>
          2140
        </td>
        <td>
          2912
          -
          2958
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.+
        </td>
        <td style="background: #AEF1AE">
          &quot;Room updated room info: -&gt; &quot;.+(updatedRoomInfo)
        </td>
      </tr><tr>
        <td>
          57
        </td>
        <td>
          1337
        </td>
        <td>
          2895
          -
          2959
        </td>
        <td>
          Apply
        </td>
        <td>
          org.slf4j.Logger.info
        </td>
        <td style="background: #AEF1AE">
          context.log.info(&quot;Room updated room info: -&gt; &quot;.+(updatedRoomInfo))
        </td>
      </tr><tr>
        <td>
          58
        </td>
        <td>
          495
        </td>
        <td>
          2969
          -
          3006
        </td>
        <td>
          Apply
        </td>
        <td>
          org.slf4j.Logger.info
        </td>
        <td style="background: #AEF1AE">
          context.log.info(&quot;------- --------&quot;)
        </td>
      </tr><tr>
        <td>
          59
        </td>
        <td>
          1868
        </td>
        <td>
          3016
          -
          3084
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.room.RoomManager.roomManager
        </td>
        <td style="background: #AEF1AE">
          RoomManager.this.roomManager(updatedSub, updatedReady, updatedRoomInfo, updatedLobby)
        </td>
      </tr><tr>
        <td>
          64
        </td>
        <td>
          1931
        </td>
        <td>
          3159
          -
          3193
        </td>
        <td>
          Apply
        </td>
        <td>
          akka.actor.typed.ActorRef.ActorRefOps.!
        </td>
        <td style="background: #AEF1AE">
          typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage](actor).!(org.riskala.controller.actors.player.PlayerMessages.RoomReferent.apply(context.self))
        </td>
      </tr><tr>
        <td>
          64
        </td>
        <td>
          1407
        </td>
        <td>
          3180
          -
          3192
        </td>
        <td>
          Select
        </td>
        <td>
          akka.actor.typed.scaladsl.ActorContext.self
        </td>
        <td style="background: #AEF1AE">
          context.self
        </td>
      </tr><tr>
        <td>
          64
        </td>
        <td>
          664
        </td>
        <td>
          3167
          -
          3193
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.player.PlayerMessages.RoomReferent.apply
        </td>
        <td style="background: #AEF1AE">
          org.riskala.controller.actors.player.PlayerMessages.RoomReferent.apply(context.self)
        </td>
      </tr><tr>
        <td>
          65
        </td>
        <td>
          1190
        </td>
        <td>
          3205
          -
          3251
        </td>
        <td>
          Apply
        </td>
        <td>
          org.slf4j.Logger.info
        </td>
        <td style="background: #AEF1AE">
          context.log.info(&quot;Room received JOIN message&quot;)
        </td>
      </tr><tr>
        <td>
          66
        </td>
        <td>
          683
        </td>
        <td>
          3283
          -
          3306
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.SetLike.+
        </td>
        <td style="background: #AEF1AE">
          subscribersRoom.+(actor)
        </td>
      </tr><tr>
        <td>
          67
        </td>
        <td>
          1873
        </td>
        <td>
          3318
          -
          3412
        </td>
        <td>
          Apply
        </td>
        <td>
          org.slf4j.Logger.info
        </td>
        <td style="background: #AEF1AE">
          context.log.info(&quot;Number of subscribers after subscriprion into the room &quot;.+(newSubscriber.size))
        </td>
      </tr><tr>
        <td>
          67
        </td>
        <td>
          1343
        </td>
        <td>
          3393
          -
          3411
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.TraversableOnce.size
        </td>
        <td style="background: #AEF1AE">
          newSubscriber.size
        </td>
      </tr><tr>
        <td>
          67
        </td>
        <td>
          455
        </td>
        <td>
          3335
          -
          3411
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.+
        </td>
        <td style="background: #AEF1AE">
          &quot;Number of subscribers after subscriprion into the room &quot;.+(newSubscriber.size)
        </td>
      </tr><tr>
        <td>
          67
        </td>
        <td>
          2081
        </td>
        <td>
          3335
          -
          3392
        </td>
        <td>
          Literal
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #AEF1AE">
          &quot;Number of subscribers after subscriprion into the room &quot;
        </td>
      </tr><tr>
        <td>
          68
        </td>
        <td>
          600
        </td>
        <td>
          3424
          -
          3457
        </td>
        <td>
          Apply
        </td>
        <td>
          akka.actor.typed.ActorRef.ActorRefOps.!
        </td>
        <td style="background: #AEF1AE">
          typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage](actor).!(org.riskala.controller.actors.player.PlayerMessages.RoomInfoMessage.apply(roomInfo))
        </td>
      </tr><tr>
        <td>
          68
        </td>
        <td>
          1415
        </td>
        <td>
          3432
          -
          3457
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.player.PlayerMessages.RoomInfoMessage.apply
        </td>
        <td style="background: #AEF1AE">
          org.riskala.controller.actors.player.PlayerMessages.RoomInfoMessage.apply(roomInfo)
        </td>
      </tr><tr>
        <td>
          69
        </td>
        <td>
          1935
        </td>
        <td>
          3469
          -
          3511
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.room.RoomManager.updateBehavior
        </td>
        <td style="background: #AEF1AE">
          updateBehavior(newSubscriber, updateBehavior$default$2, updateBehavior$default$3, updateBehavior$default$4)
        </td>
      </tr><tr>
        <td>
          72
        </td>
        <td>
          1146
        </td>
        <td>
          3555
          -
          3602
        </td>
        <td>
          Apply
        </td>
        <td>
          org.slf4j.Logger.info
        </td>
        <td style="background: #AEF1AE">
          context.log.info(&quot;Room received LEAVE message&quot;)
        </td>
      </tr><tr>
        <td>
          76
        </td>
        <td>
          2003
        </td>
        <td>
          3785
          -
          4015
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #F0ADAD">
          {
  newReady = readyPlayerMap.filter(((kv: (org.riskala.model.Player, akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage])) =&gt; kv._2.!=(actor)));
  newRoomInfo = decreaseActualPlayer(roomInfo, newReady.keySet);
  notifyUpdateRoomInfo(subscribersRoom, newReady, newRoomInfo)
}
        </td>
      </tr><tr>
        <td>
          76
        </td>
        <td>
          2087
        </td>
        <td>
          3744
          -
          3784
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.exists
        </td>
        <td style="background: #AEF1AE">
          readyPlayerMap.values.exists(((x$9: akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]) =&gt; x$9.==(actor)))
        </td>
      </tr><tr>
        <td>
          76
        </td>
        <td>
          325
        </td>
        <td>
          3773
          -
          3783
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.Object.==
        </td>
        <td style="background: #F0ADAD">
          x$9.==(actor)
        </td>
      </tr><tr>
        <td>
          77
        </td>
        <td>
          1327
        </td>
        <td>
          3839
          -
          3853
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.Object.!=
        </td>
        <td style="background: #F0ADAD">
          kv._2.!=(actor)
        </td>
      </tr><tr>
        <td>
          77
        </td>
        <td>
          461
        </td>
        <td>
          3811
          -
          3854
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.TraversableLike.filter
        </td>
        <td style="background: #F0ADAD">
          readyPlayerMap.filter(((kv: (org.riskala.model.Player, akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage])) =&gt; kv._2.!=(actor)))
        </td>
      </tr><tr>
        <td>
          78
        </td>
        <td>
          1772
        </td>
        <td>
          3912
          -
          3927
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.immutable.MapLike.keySet
        </td>
        <td style="background: #F0ADAD">
          newReady.keySet
        </td>
      </tr><tr>
        <td>
          78
        </td>
        <td>
          1371
        </td>
        <td>
          3882
          -
          3928
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.room.RoomManager.decreaseActualPlayer
        </td>
        <td style="background: #F0ADAD">
          decreaseActualPlayer(roomInfo, newReady.keySet)
        </td>
      </tr><tr>
        <td>
          79
        </td>
        <td>
          603
        </td>
        <td>
          3942
          -
          4002
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.room.RoomManager.notifyUpdateRoomInfo
        </td>
        <td style="background: #F0ADAD">
          notifyUpdateRoomInfo(subscribersRoom, newReady, newRoomInfo)
        </td>
      </tr><tr>
        <td>
          81
        </td>
        <td>
          1153
        </td>
        <td>
          4053
          -
          4076
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.SetLike.-
        </td>
        <td style="background: #AEF1AE">
          subscribersRoom.-(actor)
        </td>
      </tr><tr>
        <td>
          81
        </td>
        <td>
          330
        </td>
        <td>
          4036
          -
          4076
        </td>
        <td>
          Assign
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #AEF1AE">
          newSubscribers = subscribersRoom.-(actor)
        </td>
      </tr><tr>
        <td>
          83
        </td>
        <td>
          2048
        </td>
        <td>
          4109
          -
          4125
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.lobby.LobbyMessages.Subscribe.apply
        </td>
        <td style="background: #AEF1AE">
          org.riskala.controller.actors.lobby.LobbyMessages.Subscribe.apply(actor)
        </td>
      </tr><tr>
        <td>
          83
        </td>
        <td>
          1333
        </td>
        <td>
          4101
          -
          4125
        </td>
        <td>
          Apply
        </td>
        <td>
          akka.actor.typed.ActorRef.ActorRefOps.!
        </td>
        <td style="background: #AEF1AE">
          typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.Messages.LobbyMessage](lobby).!(org.riskala.controller.actors.lobby.LobbyMessages.Subscribe.apply(actor))
        </td>
      </tr><tr>
        <td>
          84
        </td>
        <td>
          2053
        </td>
        <td>
          4183
          -
          4360
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #AEF1AE">
          {
  typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.Messages.LobbyMessage](lobby).!(org.riskala.controller.actors.lobby.LobbyMessages.EmptyRoom.apply(roomInfo.basicInfo.name));
  context.log.info(&quot;Everybody left the room - Behavior stopped&quot;);
  akka.actor.typed.scaladsl.Behaviors.stopped[org.riskala.controller.actors.Messages.RoomMessage]
}
        </td>
      </tr><tr>
        <td>
          84
        </td>
        <td>
          531
        </td>
        <td>
          4166
          -
          4182
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.MapLike.isEmpty
        </td>
        <td style="background: #AEF1AE">
          newReady.isEmpty
        </td>
      </tr><tr>
        <td>
          84
        </td>
        <td>
          1774
        </td>
        <td>
          4140
          -
          4182
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Boolean.&amp;&amp;
        </td>
        <td style="background: #AEF1AE">
          newSubscribers.isEmpty.&amp;&amp;(newReady.isEmpty)
        </td>
      </tr><tr>
        <td>
          85
        </td>
        <td>
          1377
        </td>
        <td>
          4216
          -
          4239
        </td>
        <td>
          Select
        </td>
        <td>
          org.riskala.client.messages.ToClientMessages.RoomBasicInfo.name
        </td>
        <td style="background: #AEF1AE">
          roomInfo.basicInfo.name
        </td>
      </tr><tr>
        <td>
          85
        </td>
        <td>
          632
        </td>
        <td>
          4206
          -
          4240
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.lobby.LobbyMessages.EmptyRoom.apply
        </td>
        <td style="background: #AEF1AE">
          org.riskala.controller.actors.lobby.LobbyMessages.EmptyRoom.apply(roomInfo.basicInfo.name)
        </td>
      </tr><tr>
        <td>
          85
        </td>
        <td>
          2008
        </td>
        <td>
          4198
          -
          4240
        </td>
        <td>
          Apply
        </td>
        <td>
          akka.actor.typed.ActorRef.ActorRefOps.!
        </td>
        <td style="background: #AEF1AE">
          typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.Messages.LobbyMessage](lobby).!(org.riskala.controller.actors.lobby.LobbyMessages.EmptyRoom.apply(roomInfo.basicInfo.name))
        </td>
      </tr><tr>
        <td>
          86
        </td>
        <td>
          1185
        </td>
        <td>
          4254
          -
          4316
        </td>
        <td>
          Apply
        </td>
        <td>
          org.slf4j.Logger.info
        </td>
        <td style="background: #AEF1AE">
          context.log.info(&quot;Everybody left the room - Behavior stopped&quot;)
        </td>
      </tr><tr>
        <td>
          87
        </td>
        <td>
          292
        </td>
        <td>
          4330
          -
          4347
        </td>
        <td>
          TypeApply
        </td>
        <td>
          akka.actor.typed.scaladsl.Behaviors.stopped
        </td>
        <td style="background: #AEF1AE">
          akka.actor.typed.scaladsl.Behaviors.stopped[org.riskala.controller.actors.Messages.RoomMessage]
        </td>
      </tr><tr>
        <td>
          89
        </td>
        <td>
          1297
        </td>
        <td>
          4381
          -
          4480
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.room.RoomManager.updateBehavior
        </td>
        <td style="background: #AEF1AE">
          updateBehavior(newSubscribers, newReady, newRoomInfo, updateBehavior$default$4)
        </td>
      </tr><tr>
        <td>
          89
        </td>
        <td>
          534
        </td>
        <td>
          4381
          -
          4480
        </td>
        <td>
          Block
        </td>
        <td>
          org.riskala.controller.actors.room.RoomManager.updateBehavior
        </td>
        <td style="background: #AEF1AE">
          updateBehavior(newSubscribers, newReady, newRoomInfo, updateBehavior$default$4)
        </td>
      </tr><tr>
        <td>
          93
        </td>
        <td>
          1870
        </td>
        <td>
          4551
          -
          4600
        </td>
        <td>
          Apply
        </td>
        <td>
          org.slf4j.Logger.info
        </td>
        <td style="background: #AEF1AE">
          context.log.info(&quot;Room received UNREADY message&quot;)
        </td>
      </tr><tr>
        <td>
          94
        </td>
        <td>
          636
        </td>
        <td>
          4627
          -
          4665
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.MapLike.-
        </td>
        <td style="background: #AEF1AE">
          readyPlayerMap.-(org.riskala.model.Player.apply(playerName, &quot;&quot;))
        </td>
      </tr><tr>
        <td>
          94
        </td>
        <td>
          970
        </td>
        <td>
          4644
          -
          4665
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.model.Player.apply
        </td>
        <td style="background: #AEF1AE">
          org.riskala.model.Player.apply(playerName, &quot;&quot;)
        </td>
      </tr><tr>
        <td>
          95
        </td>
        <td>
          1972
        </td>
        <td>
          4725
          -
          4740
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.immutable.MapLike.keySet
        </td>
        <td style="background: #AEF1AE">
          newReady.keySet
        </td>
      </tr><tr>
        <td>
          95
        </td>
        <td>
          1143
        </td>
        <td>
          4695
          -
          4741
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.room.RoomManager.decreaseActualPlayer
        </td>
        <td style="background: #AEF1AE">
          decreaseActualPlayer(roomInfo, newReady.keySet)
        </td>
      </tr><tr>
        <td>
          96
        </td>
        <td>
          383
        </td>
        <td>
          4773
          -
          4796
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.SetLike.+
        </td>
        <td style="background: #AEF1AE">
          subscribersRoom.+(actor)
        </td>
      </tr><tr>
        <td>
          97
        </td>
        <td>
          2117
        </td>
        <td>
          4808
          -
          4866
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.room.RoomManager.notifyUpdateRoomInfo
        </td>
        <td style="background: #AEF1AE">
          notifyUpdateRoomInfo(newSubscriber, newReady, newRoomInfo)
        </td>
      </tr><tr>
        <td>
          98
        </td>
        <td>
          1303
        </td>
        <td>
          4878
          -
          4976
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.room.RoomManager.updateBehavior
        </td>
        <td style="background: #AEF1AE">
          updateBehavior(newSubscriber, newReady, newRoomInfo, updateBehavior$default$4)
        </td>
      </tr><tr>
        <td>
          101
        </td>
        <td>
          457
        </td>
        <td>
          5028
          -
          5075
        </td>
        <td>
          Apply
        </td>
        <td>
          org.slf4j.Logger.info
        </td>
        <td style="background: #AEF1AE">
          context.log.info(&quot;Room received READY message&quot;)
        </td>
      </tr><tr>
        <td>
          102
        </td>
        <td>
          1839
        </td>
        <td>
          5107
          -
          5130
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.SetLike.-
        </td>
        <td style="background: #AEF1AE">
          subscribersRoom.-(actor)
        </td>
      </tr><tr>
        <td>
          103
        </td>
        <td>
          1041
        </td>
        <td>
          5175
          -
          5190
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Predef.ArrowAssoc.-&gt;
        </td>
        <td style="background: #AEF1AE">
          scala.Predef.ArrowAssoc[org.riskala.model.Player](player).-&gt;[akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]](actor)
        </td>
      </tr><tr>
        <td>
          103
        </td>
        <td>
          622
        </td>
        <td>
          5157
          -
          5191
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.immutable.Map.+
        </td>
        <td style="background: #AEF1AE">
          readyPlayerMap.+[akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]](scala.Predef.ArrowAssoc[org.riskala.model.Player](player).-&gt;[akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]](actor))
        </td>
      </tr><tr>
        <td>
          104
        </td>
        <td>
          1151
        </td>
        <td>
          5221
          -
          5267
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.room.RoomManager.increaseActualPlayer
        </td>
        <td style="background: #AEF1AE">
          increaseActualPlayer(roomInfo, newReady.keySet)
        </td>
      </tr><tr>
        <td>
          104
        </td>
        <td>
          1982
        </td>
        <td>
          5251
          -
          5266
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.immutable.MapLike.keySet
        </td>
        <td style="background: #AEF1AE">
          newReady.keySet
        </td>
      </tr><tr>
        <td>
          105
        </td>
        <td>
          2042
        </td>
        <td>
          5279
          -
          5334
        </td>
        <td>
          Apply
        </td>
        <td>
          org.slf4j.Logger.info
        </td>
        <td style="background: #AEF1AE">
          context.log.info(&quot;Updated newRoomInfo - &quot;.+(newRoomInfo))
        </td>
      </tr><tr>
        <td>
          105
        </td>
        <td>
          362
        </td>
        <td>
          5296
          -
          5333
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.String.+
        </td>
        <td style="background: #AEF1AE">
          &quot;Updated newRoomInfo - &quot;.+(newRoomInfo)
        </td>
      </tr><tr>
        <td>
          106
        </td>
        <td>
          1278
        </td>
        <td>
          5367
          -
          5406
        </td>
        <td>
          Select
        </td>
        <td>
          org.riskala.client.messages.ToClientMessages.RoomBasicInfo.maxNumberOfPlayer
        </td>
        <td style="background: #AEF1AE">
          newRoomInfo.basicInfo.maxNumberOfPlayer
        </td>
      </tr><tr>
        <td>
          106
        </td>
        <td>
          1116
        </td>
        <td>
          5408
          -
          5627
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #AEF1AE">
          {
  typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.Messages.LobbyMessage](lobby).!(org.riskala.controller.actors.lobby.LobbyMessages.StartGame.apply(newRoomInfo, newReady, newSubscriber));
  context.log.info(&quot;Everybody into the room are ready. Start game and Room behavior stopped&quot;);
  akka.actor.typed.scaladsl.Behaviors.stopped[org.riskala.controller.actors.Messages.RoomMessage]
}
        </td>
      </tr><tr>
        <td>
          106
        </td>
        <td>
          431
        </td>
        <td>
          5350
          -
          5406
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Int.==
        </td>
        <td style="background: #AEF1AE">
          newReady.size.==(newRoomInfo.basicInfo.maxNumberOfPlayer)
        </td>
      </tr><tr>
        <td>
          107
        </td>
        <td>
          964
        </td>
        <td>
          5423
          -
          5478
        </td>
        <td>
          Apply
        </td>
        <td>
          akka.actor.typed.ActorRef.ActorRefOps.!
        </td>
        <td style="background: #AEF1AE">
          typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.Messages.LobbyMessage](lobby).!(org.riskala.controller.actors.lobby.LobbyMessages.StartGame.apply(newRoomInfo, newReady, newSubscriber))
        </td>
      </tr><tr>
        <td>
          107
        </td>
        <td>
          1845
        </td>
        <td>
          5431
          -
          5478
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.lobby.LobbyMessages.StartGame.apply
        </td>
        <td style="background: #AEF1AE">
          org.riskala.controller.actors.lobby.LobbyMessages.StartGame.apply(newRoomInfo, newReady, newSubscriber)
        </td>
      </tr><tr>
        <td>
          108
        </td>
        <td>
          569
        </td>
        <td>
          5492
          -
          5583
        </td>
        <td>
          Apply
        </td>
        <td>
          org.slf4j.Logger.info
        </td>
        <td style="background: #AEF1AE">
          context.log.info(&quot;Everybody into the room are ready. Start game and Room behavior stopped&quot;)
        </td>
      </tr><tr>
        <td>
          109
        </td>
        <td>
          2006
        </td>
        <td>
          5597
          -
          5614
        </td>
        <td>
          TypeApply
        </td>
        <td>
          akka.actor.typed.scaladsl.Behaviors.stopped
        </td>
        <td style="background: #AEF1AE">
          akka.actor.typed.scaladsl.Behaviors.stopped[org.riskala.controller.actors.Messages.RoomMessage]
        </td>
      </tr><tr>
        <td>
          110
        </td>
        <td>
          1241
        </td>
        <td>
          5633
          -
          5831
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #AEF1AE">
          {
  notifyUpdateRoomInfo(newSubscriber, newReady, newRoomInfo);
  updateBehavior(newSubscriber, newReady, newRoomInfo, updateBehavior$default$4)
}
        </td>
      </tr><tr>
        <td>
          111
        </td>
        <td>
          368
        </td>
        <td>
          5648
          -
          5706
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.room.RoomManager.notifyUpdateRoomInfo
        </td>
        <td style="background: #AEF1AE">
          notifyUpdateRoomInfo(newSubscriber, newReady, newRoomInfo)
        </td>
      </tr><tr>
        <td>
          112
        </td>
        <td>
          1643
        </td>
        <td>
          5720
          -
          5818
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.room.RoomManager.updateBehavior
        </td>
        <td style="background: #AEF1AE">
          updateBehavior(newSubscriber, newReady, newRoomInfo, updateBehavior$default$4)
        </td>
      </tr><tr>
        <td>
          116
        </td>
        <td>
          532
        </td>
        <td>
          5876
          -
          5924
        </td>
        <td>
          Apply
        </td>
        <td>
          org.slf4j.Logger.info
        </td>
        <td style="background: #AEF1AE">
          context.log.info(&quot;Room received LOGOUT message&quot;)
        </td>
      </tr><tr>
        <td>
          120
        </td>
        <td>
          968
        </td>
        <td>
          6066
          -
          6106
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.IterableLike.exists
        </td>
        <td style="background: #AEF1AE">
          readyPlayerMap.values.exists(((x$10: akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage]) =&gt; x$10.==(actor)))
        </td>
      </tr><tr>
        <td>
          120
        </td>
        <td>
          1245
        </td>
        <td>
          6107
          -
          6336
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #AEF1AE">
          {
  newReady = readyPlayerMap.filter(((kv: (org.riskala.model.Player, akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage])) =&gt; kv._2.!=(actor)));
  newRoomInfo = decreaseActualPlayer(roomInfo, newReady.keySet);
  notifyUpdateRoomInfo(newSubscribers, newReady, newRoomInfo)
}
        </td>
      </tr><tr>
        <td>
          120
        </td>
        <td>
          1812
        </td>
        <td>
          6095
          -
          6105
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.Object.==
        </td>
        <td style="background: #AEF1AE">
          x$10.==(actor)
        </td>
      </tr><tr>
        <td>
          121
        </td>
        <td>
          1970
        </td>
        <td>
          6133
          -
          6176
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.TraversableLike.filter
        </td>
        <td style="background: #AEF1AE">
          readyPlayerMap.filter(((kv: (org.riskala.model.Player, akka.actor.typed.ActorRef[org.riskala.controller.actors.player.PlayerMessages.PlayerMessage])) =&gt; kv._2.!=(actor)))
        </td>
      </tr><tr>
        <td>
          121
        </td>
        <td>
          574
        </td>
        <td>
          6161
          -
          6175
        </td>
        <td>
          Apply
        </td>
        <td>
          java.lang.Object.!=
        </td>
        <td style="background: #AEF1AE">
          kv._2.!=(actor)
        </td>
      </tr><tr>
        <td>
          122
        </td>
        <td>
          401
        </td>
        <td>
          6204
          -
          6250
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.room.RoomManager.decreaseActualPlayer
        </td>
        <td style="background: #AEF1AE">
          decreaseActualPlayer(roomInfo, newReady.keySet)
        </td>
      </tr><tr>
        <td>
          122
        </td>
        <td>
          1217
        </td>
        <td>
          6234
          -
          6249
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.immutable.MapLike.keySet
        </td>
        <td style="background: #AEF1AE">
          newReady.keySet
        </td>
      </tr><tr>
        <td>
          123
        </td>
        <td>
          1648
        </td>
        <td>
          6264
          -
          6323
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.room.RoomManager.notifyUpdateRoomInfo
        </td>
        <td style="background: #AEF1AE">
          notifyUpdateRoomInfo(newSubscribers, newReady, newRoomInfo)
        </td>
      </tr><tr>
        <td>
          125
        </td>
        <td>
          1890
        </td>
        <td>
          6357
          -
          6397
        </td>
        <td>
          Assign
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #AEF1AE">
          newSubscribers = subscribersRoom.-(actor)
        </td>
      </tr><tr>
        <td>
          125
        </td>
        <td>
          502
        </td>
        <td>
          6374
          -
          6397
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.collection.SetLike.-
        </td>
        <td style="background: #AEF1AE">
          subscribersRoom.-(actor)
        </td>
      </tr><tr>
        <td>
          127
        </td>
        <td>
          510
        </td>
        <td>
          6468
          -
          6669
        </td>
        <td>
          Block
        </td>
        <td>
          &lt;nosymbol&gt;
        </td>
        <td style="background: #AEF1AE">
          {
  typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.Messages.LobbyMessage](lobby).!(org.riskala.controller.actors.lobby.LobbyMessages.EmptyRoom.apply(roomInfo.basicInfo.name));
  context.log.info(&quot;Everybody into the room logout. Room is empty and behavior stopped&quot;);
  akka.actor.typed.scaladsl.Behaviors.stopped[org.riskala.controller.actors.Messages.RoomMessage]
}
        </td>
      </tr><tr>
        <td>
          127
        </td>
        <td>
          159
        </td>
        <td>
          6425
          -
          6467
        </td>
        <td>
          Apply
        </td>
        <td>
          scala.Boolean.&amp;&amp;
        </td>
        <td style="background: #AEF1AE">
          newSubscribers.isEmpty.&amp;&amp;(newReady.isEmpty)
        </td>
      </tr><tr>
        <td>
          127
        </td>
        <td>
          1071
        </td>
        <td>
          6451
          -
          6467
        </td>
        <td>
          Select
        </td>
        <td>
          scala.collection.MapLike.isEmpty
        </td>
        <td style="background: #AEF1AE">
          newReady.isEmpty
        </td>
      </tr><tr>
        <td>
          128
        </td>
        <td>
          1975
        </td>
        <td>
          6501
          -
          6524
        </td>
        <td>
          Select
        </td>
        <td>
          org.riskala.client.messages.ToClientMessages.RoomBasicInfo.name
        </td>
        <td style="background: #AEF1AE">
          roomInfo.basicInfo.name
        </td>
      </tr><tr>
        <td>
          128
        </td>
        <td>
          360
        </td>
        <td>
          6483
          -
          6525
        </td>
        <td>
          Apply
        </td>
        <td>
          akka.actor.typed.ActorRef.ActorRefOps.!
        </td>
        <td style="background: #AEF1AE">
          typed.this.ActorRef.ActorRefOps[org.riskala.controller.actors.Messages.LobbyMessage](lobby).!(org.riskala.controller.actors.lobby.LobbyMessages.EmptyRoom.apply(roomInfo.basicInfo.name))
        </td>
      </tr><tr>
        <td>
          128
        </td>
        <td>
          1194
        </td>
        <td>
          6491
          -
          6525
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.lobby.LobbyMessages.EmptyRoom.apply
        </td>
        <td style="background: #AEF1AE">
          org.riskala.controller.actors.lobby.LobbyMessages.EmptyRoom.apply(roomInfo.basicInfo.name)
        </td>
      </tr><tr>
        <td>
          129
        </td>
        <td>
          1652
        </td>
        <td>
          6539
          -
          6625
        </td>
        <td>
          Apply
        </td>
        <td>
          org.slf4j.Logger.info
        </td>
        <td style="background: #AEF1AE">
          context.log.info(&quot;Everybody into the room logout. Room is empty and behavior stopped&quot;)
        </td>
      </tr><tr>
        <td>
          130
        </td>
        <td>
          1276
        </td>
        <td>
          6639
          -
          6656
        </td>
        <td>
          TypeApply
        </td>
        <td>
          akka.actor.typed.scaladsl.Behaviors.stopped
        </td>
        <td style="background: #AEF1AE">
          akka.actor.typed.scaladsl.Behaviors.stopped[org.riskala.controller.actors.Messages.RoomMessage]
        </td>
      </tr><tr>
        <td>
          132
        </td>
        <td>
          1802
        </td>
        <td>
          6690
          -
          6789
        </td>
        <td>
          Apply
        </td>
        <td>
          org.riskala.controller.actors.room.RoomManager.updateBehavior
        </td>
        <td style="background: #AEF1AE">
          updateBehavior(newSubscribers, newReady, newRoomInfo, updateBehavior$default$4)
        </td>
      </tr><tr>
        <td>
          132
        </td>
        <td>
          1029
        </td>
        <td>
          6690
          -
          6789
        </td>
        <td>
          Block
        </td>
        <td>
          org.riskala.controller.actors.room.RoomManager.updateBehavior
        </td>
        <td style="background: #AEF1AE">
          updateBehavior(newSubscribers, newReady, newRoomInfo, updateBehavior$default$4)
        </td>
      </tr>
    </table>
          </div>
        </div>
      </body>
    </html>